---
layout: post
title: 大数阶乘
subtitle: Web前端面试题系列
date: 2019-03-30
author: Jalever
header-img: img/post-bg-js-version.jpg
catalog: true
tags:
  - Interview Questions
---

- [难点](#%E9%9A%BE%E7%82%B9)
- [实现思路](#%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF)
- [Usage](#usage)

## 难点

对于`170!`以下的阶乘，是可以使用递归实现的，对于大于`170`的数字，阶乘数已超出范围，会显示为`Infinity`

They are `64-bit` floating point values, the **_largest_** exact integral value is 2^(53)-1, or 9007199254740991. In ES6, this is defined as `Number.MAX_SAFE_INTEGER`.

Note that the bitwise operators and shift operators operate on `32-bit` ints, so in that case, the max safe integer is 2^(31)-1, or 2147483647

## 实现思路

将一个数字的每一位（个位、十位、百位、千位……）拆分出来，构成一个数组<br>

每次计算时，针对每一位进行数学运算，并遵循逢十进一的原则，修改数组中每一个数组元素的内容<br>

在完成所有运算之后，可以通过数组的 join 方法，将每一位连接起来，组成“字符串”输出<br>

## Usage

```javascript
var result = [1];
var maxNum = 5;

for (var num = 2; num <= maxNum; num++) {
  console.log("num: " + num);
  for (var i = 0, plus = 0; i < result.length || plus != 0; i++) {
    var count = i < result.length ? num * result[i] + plus : plus;

    //i = 0时，获取个数位数值，例如num=4时，i=0, count=24,result[0]=4
    //i = 1时，获取十数位数值，例如num=5时，i=1, count=12,result[1]=2
    result[i] = count % 10;

    //进位，例如24*5的进位为2 ( (4*5-0)/10 )，为什么要减去result[i]呢？可以考虑36*6的进位为( (6*6-6)/10 )
    plus = (count - result[i]) / 10;
  }
}
console.log(result.reverse().join(""));
```
